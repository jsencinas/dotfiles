unbind r
bind r source-file ~/.config/tmux/tmux.conf

# Replace the leader key
set -g prefix C-s
unbind C-b
bind C-s send-prefix # This prevents key conflicts

# Enable mouse
set -g mouse on

# Split panes using | and -
bind | split-window -h
bind - split-window -v
unbind '"'
unbind %

# Vim-like navigation setting using Alt
bind -n M-h select-pane -L
bind -n M-j select-pane -D
bind -n M-k select-pane -U
bind -n M-l select-pane -R

# Navigate between windows with Alt + Shift + H or L 
bind -n M-H previous-window
bind -n M-L next-window

# Use vi-style keys in copy mode
setw -g mode-keys vi
bind y copy-mode
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi V send -X select-line
bind -T copy-mode-vi C-v send -X rectangle-toggle
bind -T copy-mode-vi y send -X copy-selection-and-cancel
bind -T copy-mode-vi Escape send -X cancel

# start windows numbering at 1
set -g base-index 1 

# Don't rename windows automatically
set-option -g allow-rename off

##### CORE #####
set -g status on
set -g status-position bottom
set -g status-justify centre
set -g status-interval 5

##### TRUECOLOR #####
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",*:Tc"

##### COLORS #####
set -g @bg        "#1b2127"
set -g @fg        "#9fd3c7"
set -g @muted     "#6f8f99"
set -g @accent    "#7fcac3"
set -g @highlight "#a8dadc"

##### STATUS BAR #####
set -g status-style "bg=#{@bg},fg=#{@fg}"

# Remove right junk spacing
set -g status-right-length 30
set -g status-left-length 30

##### LEFT #####
set -g status-left "\
#[fg=#{@accent},bold] tmux \
#[fg=#{@muted}]│ \
#[fg=#{@highlight},bold]#S\
#[fg=#{@muted}](#I)"

##### WINDOW LIST #####
# Inactive windows
set -g window-status-style "bg=#{@bg},fg=#{@muted}"
set -g window-status-format " #I:#W "

# Active window (subtle highlight)
set -g window-status-current-style "bg=#{@bg},fg=#{@highlight},bold"
set -g window-status-current-format "▸ #I:#W "

##### PANE BORDERS #####
set -g pane-border-style "fg=#3f4b55"
set -g pane-active-border-style "fg=#3f4b55"

##### MESSAGE / COMMAND MODE #####
set -g message-style "bg=#{@bg},fg=#{@highlight}"
set -g message-command-style "bg=#{@bg},fg=#{@highlight}"

##### RIGHT SIDE — COMMAND + STATE #####
set -g status-right "\
#[fg=#{@muted}]      #{pane_current_command} \
#{?SSH_CONNECTION,#[fg=#{@accent}]󰣀,} \
#{?pane_mode,#[fg=#{@highlight}]󰆔,} \
#{?pane_last_exit_status,#[fg=red]󰅙,}"

